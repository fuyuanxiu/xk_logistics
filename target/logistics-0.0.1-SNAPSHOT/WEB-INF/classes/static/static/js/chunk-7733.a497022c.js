(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7733"],{"+5C6":function(t,e,r){},HkGa:function(t,e,r){"use strict";r.r(e);var o=r("6ZY3"),n=r.n(o),a=r("3Y2C"),s=(r("zF5t"),r("qH7t")),l={name:"marketReportDetail3",components:{messagebox:a.a},data:function(){return{iTable:[],queryParams:{keyword:"",reportId:null,feeId:null,page:1,rows:15},pageSizesList:[10,15,20,30,40,50,100],totalCount:0,fileId:"",currentRow:[],multipleSelection:[],statusFilter:function(t){return{0:"info",1:"info"}[t]},formatStatus:function(t){return{0:"否",1:"是"}[t]},isBomPrice:!1}},created:function(){this.queryParams.reportId=this.$route.query.reportId,this.queryParams.feeId=this.$route.query.feeId,this.getDetailList()},computed:{},methods:{returnFloat:function(t){if(null==t||void 0==t)return"0.000000";var e=(t=Math.round(1e6*parseFloat(t))/1e6).toString().split(".");if(1==e.length)return t=t.toString()+".000000";if(e.length>1){for(var r="",o=0;o<6-e[1].length;o++)r=r.toString()+"0";return t=t.toString()+r}},returnFloat_2:function(t){if(null==t||void 0==t)return"0.000";var e=(t=Math.round(1e3*parseFloat(t))/1e3).toString().split(".");if(1==e.length)return t=t.toString()+".000";if(e.length>1){for(var r="",o=0;o<3-e[1].length;o++)r=r.toString()+"0";return t=t.toString()+r}},handleSubmit:function(){this.getDetailList()},getDetailList:function(){var t=this,e=n()({},{keyword:this.queryParams.keyword,reportId:this.queryParams.reportId,feeId:this.queryParams.feeId,rows:this.queryParams.rows,page:this.queryParams.page});Object(s.h)(e).then(function(e){e.result&&(t.iTable=e.data.rows,t.totalCount=e.data.total)})},getProcessName:function(t){return 1==t.bsType?t.processInfo?t.processInfo.bsName:"":"BOM物料清单"},getFeeName:function(t){return 1==t.bsType?t.fee?t.fee.bsName:"":"SMD"},changePage:function(t){this.queryParams.page=t},sizeChange:function(t){this.queryParams.rows=t},downloadDoc:function(){var t=this.queryParams.reportId,e=this.queryParams.feeId;window.location.href="http://113.106.72.75:9345/logistics//marketReport/getExcel2?reportId="+t+"&&feeId="+e},resetFrom:function(){this.queryParams.keyword=""}}},u=(r("uRWB"),r("ZrdR")),i=Object(u.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{"element-loading-text":"数据加载中，请稍等"}},[r("el-card",{staticStyle:{"padding-bottom":"0",border:"none"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryParams}},[r("el-form-item",{attrs:{label:"关键字"}},[r("el-input",{attrs:{placeholder:"关键字"},model:{value:t.queryParams.keyword,callback:function(e){t.$set(t.queryParams,"keyword",e)},expression:"queryParams.keyword"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"info"},on:{click:t.resetFrom}},[t._v("重置")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("queryParams")}}},[t._v("查找")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.downloadDoc()}}},[t._v("导出")])],1)],1)],1)],1)],1),t._v(" "),r("el-table",{attrs:{data:t.iTable}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"bsMachine",label:"机型","show-overflow-tooltip":"",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.marketReport?e.row.marketReport.bsMachine:""))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"bsProcess",label:"项目",width:"120","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.getProcessName(e.row)?t.getProcessName(e.row):""))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"bsFee",label:"规格",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.getFeeName(e.row)?t.getFeeName(e.row):""))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"bsQty",label:"数量",width:"100","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"bsUnit",label:"单位",minWidth:"150","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"price1",label:"单价1",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price1)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price1Total",label:"金额1",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price1Total)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price2",label:"单价2",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price2)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price2Total",label:"金额2",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price2Total)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price3",label:"单价3",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price3)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price3Total",label:"金额3",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.returnFloat_2(e.row.price3Total)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"bsRemark",label:"备注",width:"150","show-overflow-tooltip":""}})],1),t._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{staticClass:"pull-right clearfix",attrs:{current:1,"current-page":t.queryParams.page,"page-sizes":t.pageSizesList,"page-size":t.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":t.pageSizesList,total:t.totalCount},on:{"current-change":t.changePage,"size-change":t.sizeChange,"update:currentPage":function(e){t.$set(t.queryParams,"page",e)}}})],1)],1)},[],!1,null,null,null);i.options.__file="marketReportDetail3.vue";e.default=i.exports},qH7t:function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"e",function(){return a}),r.d(e,"f",function(){return s}),r.d(e,"a",function(){return l}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return i}),r.d(e,"g",function(){return c}),r.d(e,"i",function(){return p}),r.d(e,"h",function(){return d});var o=r("t3Un");function n(t){return Object(o.a)({url:"/marketReport/add",method:"post",params:t})}function a(t){return Object(o.a)({url:"/marketReport/edit",method:"post",params:t})}function s(t){return Object(o.a)({url:"/marketReport/getDetail",method:"post",params:{bomCode:t}})}function l(t){return Object(o.a)({url:"/marketReport/addDetail",method:"post",params:t})}function u(t){return Object(o.a)({url:"/marketReport/editDetail",method:"post",params:t})}function i(t){return Object(o.a)({url:"/marketReport/deleteDetail",method:"post",params:{id:t}})}function c(t){return Object(o.a)({url:"/marketReport/getDetailList",method:"get",params:t})}function p(t){return Object(o.a)({url:"/marketReport/getQtReport",method:"post",params:t})}function d(t){return Object(o.a)({url:"/marketReport/getDetailListByfee",method:"get",params:t})}},uRWB:function(t,e,r){"use strict";var o=r("+5C6");r.n(o).a},zF5t:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"g",function(){return a}),r.d(e,"e",function(){return s}),r.d(e,"i",function(){return l}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return i}),r.d(e,"b",function(){return c}),r.d(e,"h",function(){return p}),r.d(e,"f",function(){return d});var o=r("t3Un");function n(t){return Object(o.a)({url:"/sysRole/add",method:"post",data:t})}function a(t,e,r,n){return Object(o.a)({url:"/sysRole/getlist",method:"get",params:{roleCode:t,roleName:e,page:r,rows:n}})}function s(t){return Object(o.a)({url:"/sysRole/getCheckedRoles",method:"get",params:{userId:t}})}function l(t,e){return Object(o.a)({url:"/sysRole/saveUserRoles",method:"get",params:{userId:t,roles:e}})}function u(t){return Object(o.a)({url:"/sysRole/edite",method:"post",data:t})}function i(t){return Object(o.a)({url:"/sysRole/delete",method:"post",params:{id:t}})}function c(t){return Object(o.a)({url:"/sysRole/addRouter",method:"get",params:t})}function p(t){return Object(o.a)({url:"/sysRole/getRouter",method:"get",params:{roleCode:t}})}function d(t){return Object(o.a)({url:"/sysRole/getPermission",method:"get",params:t})}}}]);