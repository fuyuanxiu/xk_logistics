(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4f90"],{Acpg:function(e,t,o){"use strict";o.d(t,"a",function(){return r}),o.d(t,"c",function(){return l}),o.d(t,"b",function(){return i}),o.d(t,"f",function(){return s}),o.d(t,"d",function(){return n}),o.d(t,"g",function(){return d}),o.d(t,"e",function(){return m});var a=o("t3Un");function r(e){return Object(a.a)({url:"/sysPermission/add",method:"post",params:e})}function l(e){return Object(a.a)({url:"/sysPermission/edit",method:"post",params:e})}function i(e){return Object(a.a)({url:"/sysPermission/delete",method:"post",params:{id:e}})}function s(e,t,o){return Object(a.a)({url:"/sysPermission/getlist",method:"get",params:{keyword:e,page:o,rows:t}})}function n(e,t){return Object(a.a)({url:"/sysPermission/getPermByRouter",method:"post",params:{roleId:e,routerId:t}})}function d(e){return Object(a.a)({url:"/sysPermission/setPerm",method:"post",params:e})}function m(e){return Object(a.a)({url:"/sysPermission/getPermByRouterCode",method:"get",params:{routerCode:e}})}},CLI5:function(e,t,o){"use strict";o.r(t);var a=o("Q2cO"),r=o.n(a),l=o("Acpg"),i={name:"permManagement",data:function(){return{dialogVisible:!1,formQuery:{keyword:""},currentRow:[],permTable:[{}],checkekList:[],dialog:{loading:!1,modal_dialog:!1,formItem:{},ruleForm:{bsCode:[{required:!0,message:"请填写编号",trigger:"blur"}],bsName:[{required:!0,message:"请填写名称",trigger:"blur"}]}},queryParams:{page:1,rows:15,pkParent:-1},pageSizesList:[10,15,20,30,40,50,100],totalCount:0}},created:function(){this.getData()},methods:{handleSubmit:function(e){this.getData()},getData:function(){var e=this;Object(l.f)(this.formQuery.keyword,this.queryParams.rows,this.queryParams.page).then(function(t){t.data||reject("error"),e.permTable=t.data.rows,e.totalCount=t.data.total})},showAddDialog:function(){this.dialog.modal_dialog=!0,this.dialog.formItem={id:""}},showEditDialog:function(){if(this.currentRow){this.dialog.modal_dialog=!0;var e=this.currentRow;this.dialog.formItem={bsCode:e.bsCode,bsName:e.bsName,id:e.id,bsRemark:e.bsRemark}}else this.$message.error("请选择要操作的行!")},doDelete:function(){var e=this;if(this.currentRow){var t=this.currentRow.id;Object(l.b)(t).then(function(t){t.result?(e.$message({message:t.msg,type:"success"}),e.getData()):e.$message.error(t.msg)})}else this.$message.error("请选择要操作的行!")},handleSelectionChange:function(e){this.currentRow=e[e.length-1]},select:function(e,t){e.length>1&&e.shift()},ok:function(){var e=this;void 0!=r()(this.dialog.formItem.id)&&"number"==typeof this.dialog.formItem.id?this.$refs.adduserForm.validate(function(t){t&&Object(l.c)(e.dialog.formItem).then(function(t){e.dialog.loading=!1,t.result?(e.dialog.loading=!1,e.dialog.modal_dialog=!1,e.getData()):e.$message.error(res.msg)})}):this.$refs.adduserForm.validate(function(t){t&&Object(l.a)(e.dialog.formItem).then(function(t){t.result?(e.dialog.loading=!1,e.dialog.modal_dialog=!1,e.getData()):e.$message.error(res.msg)})})},handleChange:function(e,t,o){console.log(e,t,o)},cancel:function(){this.dialog.modal_dialog=!1},changePage:function(e){this.queryParams.page=e,this.getData()},SizeChange:function(e){this.queryParams.rows=e,this.getData()}}},s=(o("UIkS"),o("ZrdR")),n=Object(s.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-row",[o("el-col",{attrs:{span:10}},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formQuery}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"关键字"},model:{value:e.formQuery.keyword,callback:function(t){e.$set(e.formQuery,"keyword",t)},expression:"formQuery.keyword"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleSubmit("formQuery")}}},[e._v("查找")])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("el-button-group",{attrs:{size:"small"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.showAddDialog()}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.showEditDialog()}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(t){e.doDelete()}}},[e._v("删除")])],1)],1)],1)],1),e._v(" "),[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.permTable,"tooltip-effect":"dark"},on:{select:e.select,"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"45"}}),e._v(" "),o("el-table-column",{attrs:{prop:"bsCode",label:"操作权限编号","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"bsName",label:"操作权限名称","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"createdTime",label:"创建时间",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(void 0!=t.row.createdTime&&null!==t.row.createdTime?t.row.createdTime.substring(0,10):""))])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"modifiedTime",align:"center",label:"更新时间","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(void 0!=t.row.modifiedTime&&null!==t.row.modifiedTime?t.row.modifiedTime.substring(0,10):"")+"\n                ")])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"bsRemark",label:"备注","show-overflow-tooltip":""}})],1)],e._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{staticClass:"pull-right clearfix",attrs:{current:1,"current-page":e.queryParams.page,"page-sizes":e.pageSizesList,"page-size":e.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":e.pageSizesList,total:e.totalCount},on:{"current-change":e.changePage,"size-change":e.SizeChange,"update:currentPage":function(t){e.$set(e.queryParams,"page",t)}}})],1),e._v(" "),o("el-dialog",{ref:"dialog.addRole",attrs:{visible:e.dialog.modal_dialog,title:"操作权限管理",width:"500px",modal:!0,"close-on-click-modal":!1,"close-on-press-escape":!0,"append-to-body":""},on:{"update:visible":function(t){e.$set(e.dialog,"modal_dialog",t)}}},[o("el-form",{ref:"adduserForm",attrs:{model:e.dialog.formItem,rules:e.dialog.ruleForm,"label-width":"100px"}},[o("el-row",[o("el-col",{attrs:{span:20}},[o("el-form-item",{staticStyle:{display:"none"},attrs:{label:"id",prop:"id"}},[o("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.dialog.formItem.id,callback:function(t){e.$set(e.dialog.formItem,"id",t)},expression:"dialog.formItem.id"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"操作权限编码",prop:"bsCode"}},[o("el-input",{attrs:{size:"small",placeholder:"请输入",disabled:e.dialog.formItem.id>0},model:{value:e.dialog.formItem.bsCode,callback:function(t){e.$set(e.dialog.formItem,"bsCode",t)},expression:"dialog.formItem.bsCode"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"操作权限名称",prop:"bsName"}},[o("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.dialog.formItem.bsName,callback:function(t){e.$set(e.dialog.formItem,"bsName",t)},expression:"dialog.formItem.bsName"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"备注",prop:"bsRemark"}},[o("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入..."},model:{value:e.dialog.formItem.bsRemark,callback:function(t){e.$set(e.dialog.formItem,"bsRemark",t)},expression:"dialog.formItem.bsRemark"}})],1)],1)],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small",loading:!1},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"small",loading:e.dialog.loading},on:{click:e.ok}},[e._v("确 定")])],1)],1)],2)},[],!1,null,null,null);n.options.__file="permManagement.vue";t.default=n.exports},Gua6:function(e,t,o){},UIkS:function(e,t,o){"use strict";var a=o("Gua6");o.n(a).a}}]);