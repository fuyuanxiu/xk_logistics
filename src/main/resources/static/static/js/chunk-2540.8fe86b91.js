(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2540"],{EKHk:function(t,e,o){"use strict";var r=o("v5A/");o.n(r).a},JISu:function(t,e,o){"use strict";var r={props:{contents:{type:String,default:"这是一段内容"},title:{type:String,default:"标题名称"},confirmTitle:{type:String,default:"确认"}},methods:{open:function(){var t=this,e=this;this.$confirm(this.contents,this.title,{distinguishCancelAndClose:!0,confirmButtonText:this.confirmTitle,cancelButtonText:"取消",showClose:!0,type:"warning"}).then(function(){e.$emit("callConfirm")}).catch(function(){t.$message({type:"info",message:"已取消审核"})})}}},a=o("ZrdR"),s=Object(a.a)(r,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.open()}}},[t._v("审核通过")])},[],!1,null,null,null);s.options.__file="messagebox.vue";e.a=s.exports},fAxT:function(t,e,o){"use strict";o.d(e,"g",function(){return a}),o.d(e,"b",function(){return s}),o.d(e,"c",function(){return l}),o.d(e,"d",function(){return n}),o.d(e,"e",function(){return i}),o.d(e,"f",function(){return u}),o.d(e,"a",function(){return c}),o.d(e,"h",function(){return p});var r=o("t3Un");function a(t){return Object(r.a)({url:"/enquiryOrder/getlist",method:"get",params:t})}function s(t){return Object(r.a)({url:"/enquiryOrder/doApproval",method:"post",params:t})}function l(t){return Object(r.a)({url:"/enquiryOrder/doInvalid",method:"post",params:t})}function n(t){return Object(r.a)({url:"/enquiryOrderDetail/getlist",method:"get",params:t})}function i(t){return Object(r.a)({url:"/enquiryOrderDetail/getlist_2",method:"get",params:t})}function u(t){return Object(r.a)({url:"/enquiryOrderDetail/getQuoteMateList",method:"get",params:t})}function c(t){return Object(r.a)({url:"/enquiryOrderDetail/doAccept",method:"post",params:t})}function p(t){return Object(r.a)({url:"/enquiryOrderDetail/sendSuppMsg",method:"post",params:t})}},hofv:function(t,e,o){"use strict";o.r(e);var r=o("6ZY3"),a=o.n(r),s=o("fAxT"),l=o("JISu"),n=o("zEcj"),i={name:"enquiryOrderDetail2",components:{messagebox:l.a,messageInvalidBox:n.a},data:function(){return{bsOrderId:this.$route.query.bsOrderId,orderInfo:{status:0,totalPrice:0},loading:!1,current:0,open:!0,orderDetailList:[],quoteMateList:[],multipleSelection:[],queryParams:{page:1,rows:15,keyword:""},pageSizesList:[15,20,30,40,50,100],totalCount:0,statusFilter:function(t){return{1:"info",2:"info",3:"info",4:"success",5:"danger"}[t]},formatStata:function(t){return{1:"未报价",2:"已报价",3:"审核中",4:"已采纳",5:"未采纳"}[t]},statusFilter_1:function(t){return{0:"info",1:"info",2:"danger",3:"danger",4:"success"}[t]},formatStata_1:function(t){return{0:"未询价",1:"未询价",2:"询价中",3:"已报价",4:"已采纳"}[t]},statusFilter_2:function(t){return{1:"primary",2:"success",3:"danger"}[t]},formatStatus_2:function(t){return{1:"进行中",2:"审核完成",3:"作废"}[t]}}},created:function(){this.getData()},methods:{getData:function(){var t=this,e=a()({},this.queryParams,{bsOrderId:this.bsOrderId});this.loading=!0,Object(s.e)(e).then(function(e){t.loading=!1,e.result?(t.orderDetailList=e.data.rows,t.totalCount=e.data.total,t.orderInfo.status=e.data.status,t.orderInfo.totalPrice=e.data.totalPrice):t.$message.error(e.msg)})},rowExpand:function(t,e){var o=this;if(0!=e.length){var r=t.id,l=a()({},{bsOrderDetailId:r});Object(s.f)(l).then(function(t){t.result?o.quoteMateList=t.data:(o.quoteMateList=[],o.$message.error(t.msg))})}else this.quoteMateList=[];this.multipleSelection=[],e.length>1&&e.shift()},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 2==e.bsStatus||3==e.bsStatus?"danger-row":4==e.bsStatus?"success-row":void 0},goBack:function(){this.$router.push({path:"/enquiry/enquiryOrderDetail",query:{bsOrderId:this.bsOrderId}})},getExcel:function(){window.location.href="http://113.106.72.75:9345/logistics//enquiryOrderDetail/getDetailExcel?bsOrderId="+this.bsOrderId},resetFrom:function(){this.queryParams.keyword=""},changePage:function(t){this.queryParams.page=t,this.getData()},sizeChange:function(t){this.queryParams.rows=t,this.getData()}}},u=(o("EKHk"),o("ZrdR")),c=Object(u.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"retrieval"},[o("div",{staticClass:"title"},[o("span",{staticClass:"more",on:{click:function(e){t.open=!t.open}}})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"searchDiv"},[o("el-form",{ref:"form",staticClass:"formStly",attrs:{model:t.queryParams,size:"small",inline:!0}},[o("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[o("el-input",{model:{value:t.queryParams.keyword,callback:function(e){t.$set(t.queryParams,"keyword",e)},expression:"queryParams.keyword"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.getData}},[t._v("查找")]),t._v(" "),o("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.resetFrom}},[t._v("重置")]),t._v(" "),o("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),o("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.getExcel}},[t._v("导出清单")])],1)],1)],1)],1),t._v(" "),o("div",[o("el-row",{staticClass:"row-bg",staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex"}},[o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content bg-purple"},[o("span",{staticClass:"order-info"},[t._v("清单状态：\n                "),o("el-tag",{attrs:{type:t.statusFilter_2(t.orderInfo.status)}},[t._v(t._s(t.formatStatus_2(t.orderInfo.status)))])],1)])]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content bg-purple"},[o("span",{staticClass:"order-info"},[t._v("清单成本："+t._s(this.orderInfo.totalPrice)+"\n              ")])])])],1)],1)],1)]),t._v(" "),[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.orderDetailList,"tooltip-effect":"dark","highlight-current-row":"","row-class-name":t.tableRowClassName},on:{"expand-change":t.rowExpand}},[o("el-table-column",{attrs:{type:"expand",prop:"children"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-table",{staticStyle:{width:"1154px","margin-top":"10px","margin-left":"47px","font-size":"12px"},attrs:{data:t.quoteMateList,border:"","highlight-current-row":!0}},[o("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_status",label:"状态",align:"center",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",{attrs:{type:t.statusFilter(e.row.bs_status)}},[t._v(t._s(t.formatStata(e.row.bs_status)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"mate_model",label:"规格","show-overflow-tooltip":"",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{prop:"supp_chinese_name",label:"供应商名称","show-overflow-tooltip":"",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mate_name",label:"名称","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"qt_unit",label:"单位","show-overflow-tooltip":"",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{prop:"qt_mate_num",label:"预计数量","show-overflow-tooltip":"",width:"80"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_real_num",label:"报价数量","show-overflow-tooltip":"",width:"80"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_tax_unit_price",label:"含税单价","show-overflow-tooltip":"",width:"80"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_tax_total_price",label:"含税金额","show-overflow-tooltip":"",width:"80"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_del_deadline_real",label:"交期","show-overflow-tooltip":"",width:"80"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_package_min",label:"最小包装","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_cus_name",label:"品牌","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bs_cus_code",label:"品牌料号","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"qt_mate_desc",label:"备注","show-overflow-tooltip":""}})],1)],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsStatus",label:"状态",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",{attrs:{type:t.statusFilter_1(e.row.bsStatus)}},[t._v(t._s(t.formatStata_1(e.row.bsStatus)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"bsModel",label:"规格","show-overflow-tooltip":"",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsName",label:"名称","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsCategory",label:"类别","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsQty",label:"数量","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsPackage",label:"封装","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsCusName",label:"品牌名称","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsCusCode",label:"品牌料号","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsPlaceNum",label:"位号","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"bsBomNum",label:"套数","show-overflow-tooltip":"",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(t){}}])})],1)],t._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{staticClass:"pull-right clearfix",attrs:{current:1,"current-page":t.queryParams.page,"page-sizes":t.pageSizesList,"page-size":t.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":t.pageSizesList,total:t.totalCount},on:{"current-change":t.changePage,"size-change":t.sizeChange,"update:currentPage":function(e){t.$set(t.queryParams,"page",e)}}})],1)],2)},[],!1,null,null,null);c.options.__file="enquiryOrderDetail2.vue";e.default=c.exports},"v5A/":function(t,e,o){},zEcj:function(t,e,o){"use strict";var r={props:{contents:{type:String,default:"这是一段内容"},title:{type:String,default:"标题名称"},confirmTitle:{type:String,default:"确认"}},methods:{open:function(){var t=this,e=this;this.$confirm(this.contents,this.title,{distinguishCancelAndClose:!0,confirmButtonText:this.confirmTitle,cancelButtonText:"取消",showClose:!0,type:"warning"}).then(function(){e.$emit("callConfirm")}).catch(function(){t.$message({type:"info",message:"已取消作废"})})}}},a=o("ZrdR"),s=Object(a.a)(r,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.open()}}},[t._v("作废")])},[],!1,null,null,null);s.options.__file="messageInvalidBox.vue";e.a=s.exports}}]);