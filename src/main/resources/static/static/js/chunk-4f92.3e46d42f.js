(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4f92"],{Acpg:function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"b",function(){return n}),r.d(e,"f",function(){return s}),r.d(e,"d",function(){return l}),r.d(e,"g",function(){return u}),r.d(e,"e",function(){return d});var i=r("t3Un");function a(t){return Object(i.a)({url:"/sysPermission/add",method:"post",params:t})}function o(t){return Object(i.a)({url:"/sysPermission/edit",method:"post",params:t})}function n(t){return Object(i.a)({url:"/sysPermission/delete",method:"post",params:{id:t}})}function s(t,e,r){return Object(i.a)({url:"/sysPermission/getlist",method:"get",params:{keyword:t,page:r,rows:e}})}function l(t,e){return Object(i.a)({url:"/sysPermission/getPermByRouter",method:"post",params:{roleId:t,routerId:e}})}function u(t){return Object(i.a)({url:"/sysPermission/setPerm",method:"post",params:t})}function d(t){return Object(i.a)({url:"/sysPermission/getPermByRouterCode",method:"get",params:{routerCode:t}})}},K7et:function(t,e,r){"use strict";var i=r("yMgb");r.n(i).a},kOe5:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"h",function(){return n}),r.d(e,"i",function(){return s}),r.d(e,"f",function(){return l}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return d}),r.d(e,"g",function(){return c}),r.d(e,"e",function(){return m});var i=r("t3Un");function a(t){return Object(i.a)({url:"/setting/getlist",method:"get",params:t})}function o(t){return Object(i.a)({url:"/setting/edit",method:"post",params:t})}function n(t,e,r){return Object(i.a)({url:"/setting/updateSetting",method:"post",params:{bomCheck:t,bomLimit:e,bomNumber:r}})}function s(t,e){return Object(i.a)({url:"/setting/updateStockPriceData",method:"post",params:{year:t,month:e}})}function l(){return Object(i.a)({url:"/setting/updateOrderBillData",method:"post",params:{}})}function u(){return Object(i.a)({url:"/setting/updateInvoiceBillData",method:"post",params:{}})}function d(){return Object(i.a)({url:"/prdChart/updateCostData",method:"post",params:{}})}function c(){return Object(i.a)({url:"/prdChart/updateOrderData",method:"post",params:{}})}function m(){return Object(i.a)({url:"/prdChart/updateInvoiceData",method:"post",params:{}})}},nFcq:function(t,e,r){"use strict";r.r(e);var i=r("6ZY3"),a=r.n(i),o=r("kOe5"),n=r("Acpg"),s={name:"setBomSetting",components:{},data:function(){return{loading:!1,formQuery:{keyword:""},currentRow:[],dataTable:[{}],editForm:{id:0,code:"",value:"",remark:""},dialog:{settingVisibleEdit:!1},queryParams:{page:1,rows:10},pageSizesList:[10,20,30,40,50,100],totalCount:1,permit:{SEARCH:!1,EDIT:!1}}},created:function(){this.getData(),this.getPermit()},methods:{handleSubmit:function(){this.getData()},getPermit:function(){var t=this,e=this.$route.name;Object(n.e)(e).then(function(e){if(e.result)if("admin"==e.data)t.permit.SEARCH=!0,t.permit.EDIT=!0;else for(var r=e.data,i=0;i<r.length;i++)"SEARCH"==r[i].permCode&&(t.permit.SEARCH=!0),"EDIT"==r[i].permCode&&(t.permit.EDIT=!0);else t.$message.error(res.msg)})},getData:function(){var t=this;this.loading=!0;var e=a()({},{code:"customer_sort_plan"},this.queryParams);Object(o.b)(e).then(function(e){e.result?(t.loading=!1,t.dataTable=e.data):(t.loading=!1,t.$message.error(e.msg))})},showEditDialog:function(t){this.editForm.id=t.id,this.editForm.code=t.code,this.editForm.value=t.value,this.editForm.remark=t.remark,this.dialog.settingVisibleEdit=!0},cancel:function(){this.dialog.settingVisibleEdit=!1},doEdit:function(){var t=this,e=a()({},{id:this.editForm.id,value:this.editForm.value,remark:this.editForm.remark});Object(o.a)(e).then(function(e){e.result?(t.dialog.settingVisibleEdit=!1,t.$message.info(e.msg),t.getData()):t.$message.error(e.msg)})},changePage:function(t){this.queryParams.page=t,this.getData()},SizeChange:function(t){this.queryParams.rows=t,this.getData()}}},l=(r("K7et"),r("ZrdR")),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-card",{staticStyle:{"padding-bottom":"0",border:"none"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formQuery}},[r("el-form-item",{attrs:{label:"关键字"}},[r("el-input",{attrs:{placeholder:"关键字"},model:{value:t.formQuery.keyword,callback:function(e){t.$set(t.formQuery,"keyword",e)},expression:"formQuery.keyword"}})],1),t._v(" "),r("el-form-item",[t.permit.SEARCH?r("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("查找")]):t._e()],1)],1)],1)],1)],1),t._v(" "),[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"main_table",staticStyle:{width:"100%"},attrs:{border:"",data:t.dataTable,"tooltip-effect":"dark","highlight-current-row":"","element-loading-text":"数据加载中，请稍等"}},[r("el-table-column",{attrs:{type:"index",width:"45"}}),t._v(" "),r("el-table-column",{attrs:{prop:"code",label:"编码","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"value",label:"值","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"createdTime",label:"创建时间",width:"150","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.permit.EDIT?r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(r){t.showEditDialog(e.row)}}}):t._e()]}}])})],1)],t._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{staticClass:"pull-right clearfix",attrs:{current:1,"current-page":t.queryParams.page,"page-sizes":t.pageSizesList,"page-size":t.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":t.pageSizesList,total:t.totalCount},on:{"current-change":t.changePage,"size-change":t.SizeChange,"update:currentPage":function(e){t.$set(t.queryParams,"page",e)}}})],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑模板",visible:t.dialog.settingVisibleEdit,width:"500px"},on:{"update:visible":function(e){t.$set(t.dialog,"settingVisibleEdit",e)}}},[r("el-form",{attrs:{inline:!0,model:t.editForm}},[r("el-form-item",{staticStyle:{display:"none"},attrs:{label:"id",prop:"id"}},[r("el-input",{model:{value:t.editForm.id,callback:function(e){t.$set(t.editForm,"id",e)},expression:"editForm.id"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"编码",prop:"code"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:t.editForm.code,callback:function(e){t.$set(t.editForm,"code",e)},expression:"editForm.code"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"数值",prop:"value"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.editForm.value,callback:function(e){t.$set(t.editForm,"value",e)},expression:"editForm.value"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"value"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.editForm.remark,callback:function(e){t.$set(t.editForm,"remark",e)},expression:"editForm.remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialog.settingVisibleEdit=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.doEdit}},[t._v("确 定")])],1)],1)],2)},[],!1,null,null,null);u.options.__file="setBomSetting.vue";e.default=u.exports},yMgb:function(t,e,r){}}]);